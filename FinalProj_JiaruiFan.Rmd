---
title: "STAT 184 Final Project "
author: "Jiarui Fan" 
date: "12/12"
output: html_notebook
---
```{r, warning=FALSE, message=FALSE}
# clean up R environment
rm (list = ls())
# load some packages
library(readr)
library(rvest)
library(xml2)
library(tidyverse)
library(DataComputing)
library(ggplot2)
library(tidyr)
library(lubridate)
```

## 1: Which is the Most Popular Ramen Product?
My guiding question & purpose of this analysis is to find out which is the most popular Roman product. The reason I come up with such an idea is very simple. I am a huge Roman fan, and I eat roman products several times a week. After consuming all these different types and flavors of Roman products, I will rank them. For example, which has the best packaging, which has the best price, what brand has the most flavor, and so on. Therefore, I wonder what is the rank of Roman product in other people's opinion, and which is the most well-reviewed, highly rated, and best selling.

The biggest challenge that I encountered will be finding a supporting dataset. I misunderstood the instruction when I was doing the EDA, so I did two primary data sources instead of one primary and one supporting. It is kind of hard because this Roman dataset is found in Kaggle, and it is already kind of well analyzed. Therefore, another supporting dataset is not easy to find. I didn't find any suitable dataset from packages that have already loaded in this RStudio.I have searched for a more similar dataset like this Roman data, but they are not suitable for supporting purposes. Then I tried to lower my standards, just look at one attribute. Finally, I found a dataset in Wikipedia that contains a list of Roman Brands. I mainly used it as a tool for my data wangling later in the project.

### Data Access

#### Primary data
* [Ramen Ratings | Kaggle](https://www.kaggle.com/residentmario/ramen-ratings)
This data set is found in Kaggle.

* The dataset owner is Aleksey Bilogur, he collected the data and maintained it. The last update is 3 years ago. However, Mr.Bilogur states that"This dataset is republished as-is from the original BIG LIST on https://www.theramenrater.com/."

* According to the data description, the inspiration of the dataset owner is from these questions:
  * What ingredients or flavors are most commonly advertised on ramen package labels?
  * How do ramen ratings compare against ratings for other food products (like, say, wine)?
  * How is ramen manufacturing internationally distributed?

* One case is a variety of Ramen with a certain brand, certain number of reviews, its style of packaging(Cup/Bowl/Tray), country, star rating(5-point scale), and if it went on Top 10.

##### Load data
```{r}
RamenFile<- file.choose()
```
```{r}
RamenData<- 
  data.table::fread(RamenFile) %>%
  as.data.frame()
```
##### inspecting data

```{r}
str(RamenData)
```
```{r}
head(RamenData)
```
```{r}
tail(RamenData)
```
#### Supporting data
* [List of instant noodle brands - Wikipedia](https://en.wikipedia.org/wiki/List_of_instant_noodle_brands)
This data set is found in Wikipedia.

* The dataset owner is Wikipedia. This page was last edited on 10 December 2020, at 17:19 (UTC). 

* One case is a brand of a Roman noodle prodoct with its current owner and a picture, also with a text description.

##### load data
```{r}
web_page <- "https://en.wikipedia.org/wiki/List_of_instant_noodle_brands"
SetOfTables <- web_page %>%
  read_html() %>%
  html_nodes(css = "table") %>%
  html_table(fill = TRUE)
length(SetOfTables)
TableOfBrands <- SetOfTables[[1]]
```
##### inspecting data
```{r}
glimpse(TableOfBrands)
```
```{r}
tail(TableOfBrands)
```

### Data Wrangling
```{r}
RamenData <-
  RamenData%>%
  select(`Review #`, Brand, Variety, Style, Country, Stars)
```
```{r}
TableOfBrands<-
  TableOfBrands%>%
  select(Name, Currentowner)
```

```{r}
BigBrands<-
  RamenData%>%
  inner_join(TableOfBrands, by = c("Brand" = "Name"))
```

```{r}
BigBrands
```
```{r}
ByStars<-
  BigBrands%>%
  select(Brand, Stars, Variety)%>%
  group_by(Brand)%>%
  filter(Stars>=4.5, Stars != "Unrated")%>%
  arrange(desc(Stars))
```
```{r}
ByReview<-
  BigBrands%>%
  filter(`Review #`>=2000)%>%
  select(Variety, Country,Style,`Review #`)
```
```{r}
Reviews_Satrs<-
  ByStars%>%
  full_join(ByReview, by= "Variety")
Reviews_Satrs
```


### Data Visualization

```{r}
TwoCountry<- 
  Reviews_Satrs%>%
  filter(Country=="USA"| Country=="Japan", Stars != "NA")
TwoCountry%>%
  ggplot(aes(x=`Review #`, y = Stars, label = Variety))+geom_point(aes(color=Style))+facet_wrap(~Country)+geom_text()
```
```{r}

```

```{r}

```

```{r}

```

```{r}

```

```{r}

```

```{r}

```

```{r}

```

### Conclusion


